<p><img src="https://assets.wubin.design/usr/uploads/2020/05/4028883793.png??imageslim" alt=" Driver的大方向盘logo很V587 " title=" Driver的大方向盘logo很V587 "></p><h3>介绍</h3><p>Driver.js 是一个为网站做作 “演示教程” 的开源库。</p><h3>相关地址</h3><p>GitHub：<span class="external-link"><a href="https://github.com/kamranahmedse/driver.js" target="_blank">https://github.com/kamranahmedse/driver.js<i data-feather='external-link'></i></a></span><br>演示：<span class="external-link"><a href="https://kamranahmed.info/driver.js/#single-element-no-popover" target="_blank">https://kamranahmed.info/driver.js/#single-element-no-popover<i data-feather='external-link'></i></a></span></p><hr><h1>详细说明</h1><ul><li><strong>Simple</strong>: is simple to use and has no external dependency at all</li><li><strong>Highly customizable</strong>: has a powerful API and can be used however you want</li><li><strong>Highlight anything</strong>: highlight any (literally any) element on page</li><li><strong>Feature introductions</strong>: create powerful feature introductions for your web applications</li><li><strong>Focus shifters</strong>: add focus shifters for users</li><li><strong>User friendly</strong>: Everything is controllable by keyboard</li><li><strong>Consistent behavior</strong>: usable across all browsers (including in-famous IE)</li><li><strong>MIT Licensed</strong>: free for personal and commercial use</li></ul><p><img src="./demo/images/split.png" alt="" title=""></p><p>For Usage and Examples, <span class="external-link"><a href="http://kamranahmed.info/driver.js" target="_blank">have a look at demo<i data-feather='external-link'></i></a></span></p><h2>So, yet another tour library?</h2><p><strong>No</strong>, it is not. <strong>Tours are just one of the many use-cases</strong>. Driver.js can be used wherever you need some sort of overlay for the page; some common usecases could be: e.g. dimming the background when user is interacting with some component i.e. <span class="external-link"><a href="https://i.imgur.com/Q3PzaKkr.png" target="_blank">the way Facebook does<i data-feather='external-link'></i></a></span> when you try to create a post, using it as a focus shifter to bring user's attention to some component on page, or using it to simulate those "Turn off the Lights" widgets that you might have seen on video players online, etc.</p><p>Driver.js is written in Vanilla JS, has zero dependencies and is highly customizable. It has several options allowing you to manipulate how it behaves and also <strong>provides you the hooks</strong> to manipulate the elements as they are highlighted, about to be highlighted, or deselected.</p><h2>Installation</h2><p>You can install it using <code>yarn</code> or <code>npm</code>, whatever you prefer.</p><pre><code class="lang-bash">yarn add driver.js
npm install driver.js</code></pre><p>Or include it using CDN. If you want a specific version, put it as <code>driver.js@0.5</code> in the name</p><pre><code class="lang-html">&lt;script src=&quot;https://unpkg.com/driver.js/dist/driver.min.js&quot;&gt;&lt;/script&gt;
&lt;link rel=&quot;stylesheet&quot; href=&quot;https://unpkg.com/driver.js/dist/driver.min.css&quot;&gt;</code></pre><p>Or grab the code from <code>dist</code> directory and include it directly.</p><pre><code class="lang-html">&lt;link rel=&quot;stylesheet&quot; href=&quot;/dist/driver.min.css&quot;&gt;
&lt;script src=&quot;/dist/driver.min.js&quot;&gt;&lt;/script&gt;</code></pre><p><img src="./demo/images/split.png" alt="" title=""></p><h2>Usage and Demo</h2><p>If you are using some sort of module bundler, import the library and the CSS file</p><pre><code class="lang-javascript">import Driver from 'driver.js';
import 'driver.js/dist/driver.min.css';</code></pre><p>otherwise use the <code>script</code> and <code>link</code> tags to import the JavaScript and CSS files.</p><p>Demos and many more usage examples can be found <span class="external-link"><a href="http://kamranahmed.info/driver.js" target="_blank">in the docs page<i data-feather='external-link'></i></a></span>.</p><h3>Highlighting Single Element – <span class="external-link"><a href="http://kamranahmed.info/driver.js#single-element-no-popover" target="_blank">Demo<i data-feather='external-link'></i></a></span></h3><p>You can highlight a single element by simply passing the selector.</p><pre><code class="lang-javascript">const driver = new Driver();
driver.highlight('#create-post');</code></pre><p>A real world usage example for this is: using it to dim the background and highlight the required element e.g. the way Facebook does it when creating a post.</p><h3>Highlight and Popover – <span class="external-link"><a href="http://kamranahmed.info/driver.js#single-element-with-popover" target="_blank">Demo<i data-feather='external-link'></i></a></span></h3><p>You can show additional details beside the highlighted element using the popover.</p><pre><code class="lang-javascript">const driver = new Driver();
driver.highlight({
  element: '#some-element',
  popover: {
    title: 'Title for the Popover',
    description: 'Description for it',
  }
});</code></pre><p>Also, <code>title</code> and <code>description</code> can have HTML as well.</p><h3>Positioning the Popover – <span class="external-link"><a href="http://kamranahmed.info/driver.js#single-element-with-popover-position" target="_blank">Demo<i data-feather='external-link'></i></a></span></h3><p>By default, driver automatically finds the suitable position for the popover and displays it. You can override it using <code>position</code> property.</p><pre><code class="lang-javascript">const driver = new Driver();
driver.highlight({
  element: '#some-element',
  popover: {
    title: 'Title for the Popover',
    description: 'Description for it',
    // position can be left, left-center, left-bottom, top,
    // top-center, top-right, right, right-center, right-bottom,
    // bottom, bottom-center, bottom-right, mid-center
    position: 'left',
  }
});</code></pre><p>You can also add offset to the popover position by using the <code>offset</code> property</p><pre><code class="lang-javascript">const driver = new Driver();
driver.highlight({
  element: '#some-element',
  popover: {
    title: 'Title for the Popover',
    description: 'Description for it',
    position: 'bottom',
    // Will show it 20 pixels away from the actual position of popover
    // You may also provide the negative values
    offset: 20,
  }
});</code></pre><h3>Creating Feature Introductions – <span class="external-link"><a href="http://kamranahmed.info/driver.js" target="_blank">Demo<i data-feather='external-link'></i></a></span></h3><p>Feature introductions are helpful when onboarding new users and giving them an idea about different parts of the application; you can create them seamlessly with Driver. Define the steps and call the <code>start</code> when you want to start presenting. User will be able to control the steps using the keyboard or using the buttons on popovers.</p><pre><code class="lang-javascript">const driver = new Driver();

// Define the steps for introduction
driver.defineSteps([
  {
    element: '#first-element-introduction',
    popover: {
      className: 'first-step-popover-class',
      title: 'Title on Popover',
      description: 'Body of the popover',
      position: 'left'
    }
  },
  {
    element: '#second-element-introduction',
    popover: {
      title: 'Title on Popover',
      description: 'Body of the popover',
      position: 'top'
    }
  },
  {
    element: '#third-element-introduction',
    popover: {
      title: 'Title on Popover',
      description: 'Body of the popover',
      position: 'right'
    }
  },
]);

// Start the introduction
driver.start();</code></pre><p>You can also hide the buttons and control the introductions programmatically by using the API methods listed below.</p><p><img src="./demo/images/split.png" alt="" title=""></p><h3>Asynchronous Actions – <span class="external-link"><a href="http://kamranahmed.info/driver.js" target="_blank">Demo<i data-feather='external-link'></i></a></span></h3><p>For any asynchronous actions between the transition steps, you may delay the execution till the action completes. All you have to do is stop the transition using <code>driver.preventMove()</code> in your <code>onNext</code> or <code>onPrevious</code> callbacks and initiate it manually using <code>driver.moveNext()</code>. Here is a sample implementation where it will stop at the second step for four seconds and then move on to the next step.</p><pre><code class="lang-javascript">const driver = new Driver();

// Define the steps for introduction
driver.defineSteps([
  {
    element: '#first-element-introduction',
    popover: {
      title: 'Title on Popover',
      description: 'Body of the popover',
      position: 'left'
    }
  },
  {
    element: '#second-element-introduction',
    popover: {
      title: 'Title on Popover',
      description: 'Body of the popover',
      position: 'top'
    },
    onNext: () =&gt; {
      // Prevent moving to the next step
      driver.preventMove();
      
      // Perform some action or create the element to move to
      // And then move to that element
      setTimeout(() =&gt; {
        driver.moveNext();
      }, 4000);
    }
  },
  {
    element: '#third-element-introduction',
    popover: {
      title: 'Title on Popover',
      description: 'Body of the popover',
      position: 'right'
    }
  },
]);

// Start the introduction
driver.start();</code></pre><p>You can also hide the buttons and control the introductions programmatically by using the API methods listed below.</p><p><img src="./demo/images/split.png" alt="" title=""></p><h2>API</h2><p>Driver comes with several options that you can manipulate to make Driver behave as you like</p><h3>Driver Definition</h3><p>Here are the options that Driver understands:</p><pre><code class="lang-javascript">const driver = new Driver({
  className: 'scoped-class',        // className to wrap driver.js popover
  animate: true,                    // Whether to animate or not
  opacity: 0.75,                    // Background opacity (0 means only popovers and without overlay)
  padding: 10,                      // Distance of element from around the edges
  allowClose: true,                 // Whether the click on overlay should close or not
  overlayClickNext: false,          // Whether the click on overlay should move next
  doneBtnText: 'Done',              // Text on the final button
  closeBtnText: 'Close',            // Text on the close button for this step
  stageBackground: '#ffffff',       // Background color for the staged behind highlighted element
  nextBtnText: 'Next',              // Next button text for this step
  prevBtnText: 'Previous',          // Previous button text for this step
  showButtons: false,               // Do not show control buttons in footer
  keyboardControl: true,            // Allow controlling through keyboard (escape to close, arrow keys to move)
  scrollIntoViewOptions: {},        // We use `scrollIntoView()` when possible, pass here the options for it if you want any
  onHighlightStarted: (Element) =&gt; {}, // Called when element is about to be highlighted
  onHighlighted: (Element) =&gt; {},      // Called when element is fully highlighted
  onDeselected: (Element) =&gt; {},       // Called when element has been deselected
  onReset: (Element) =&gt; {},            // Called when overlay is about to be cleared
  onNext: (Element) =&gt; {},                    // Called when moving to next step on any step
  onPrevious: (Element) =&gt; {},                // Called when moving to previous step on any step
});</code></pre><p>Note that all the button options that you provide in the driver definition can be overridden for a specific step by giving them in the step definition</p><h3>Step Definition</h3><p>Here are the set of options that you can pass while defining steps <code>defineSteps</code> or the object that you pass to <code>highlight</code> method:</p><pre><code class="lang-javascript">const stepDefinition = {
  element: '#some-item',        // Query selector string or Node to be highlighted
  stageBackground: '#ffffff',   // This will override the one set in driver
  popover: {                    // There will be no popover if empty or not given
    className: 'popover-class', // className to wrap this specific step popover in addition to the general className in Driver options
    title: 'Title',             // Title on the popover
    description: 'Description', // Body of the popover
    showButtons: false,         // Do not show control buttons in footer
    doneBtnText: 'Done',        // Text on the last button
    closeBtnText: 'Close',      // Text on the close button
    nextBtnText: 'Next',        // Next button text
    prevBtnText: 'Previous',    // Previous button text
  },
  onNext: () =&gt; {},             // Called when moving to next step from current step
  onPrevious: () =&gt; {},         // Called when moving to previous step from current step
};</code></pre><p>For example, here is how it would look when highlighting a single element:</p><pre><code class="lang-javascript">const driver = new Driver(driverOptions);
driver.highlight(stepDefinition);</code></pre><p>And this is how it would look when creating a step by step guide:</p><pre><code class="lang-javascript">const driver = new Driver(driverOptions);
driver.defineSteps([
    stepDefinition1,
    stepDefinition2,
    stepDefinition3,
    stepDefinition4,
]);</code></pre><h3>API Methods</h3><p>Below are the set of methods that are available:</p><pre><code class="lang-javascript">const driver = new Driver(driverOptions);

// Checks if the driver is active or not
if (driver.isActivated) {
    console.log('Driver is active');
}

// In case of the steps guide, you can call below methods
driver.defineSteps([ stepDefinition1, stepDefinition2, stepDefinition3 ]);
driver.start(stepNumber = 0);  // Starts driving through the defined steps
driver.moveNext();             // Moves to next step in the steps list
driver.movePrevious();         // Moves to previous step in the steps list
driver.hasNextStep();          // Checks if there is next step to move to
driver.hasPreviousStep();      // Checks if there is previous step to move to

// Prevents the current move. Useful in `onNext` or `onPrevious` if you want to
// perform some asynchronous task and manually move to next step
driver.preventMove();

// Highlights the element using query selector or the step definition
driver.highlight(string|stepDefinition);

// Reposition the popover and highlighted element
driver.refresh();

// Resets the overlay and clears the screen
driver.reset();

// Additionally you can pass a boolean parameter
// to clear immediately and not do the animations etc
// Could be useful when you, let's say, want to run
// a different instance of driver while one was running
driver.reset(clearImmediately = false);

// Checks if there is any highlighted element
if(driver.hasHighlightedElement()) {
    console.log('There is an element highlighted');
}

// Gets the currently highlighted element on screen
// It would be an instance of `/src/core/element.js`
const activeElement = driver.getHighlightedElement();

// Gets the last highlighted element, would be an instance of `/src/core/element.js`
const lastActiveElement = driver.getLastHighlightedElement();

activeElement.getCalculatedPosition(); // Gets screen co-ordinates of the active element
activeElement.hidePopover();           // Hide the popover
activeElement.showPopover();           // Show the popover

activeElement.getNode();  // Gets the DOM Element behind this element</code></pre><p><img src="./demo/images/split.png" alt="" title=""></p><p><strong>Note –</strong> Do not forget to add <code>e.stopPropagation()</code> to the <code>click</code> binding that triggers driver.</p><p><img src="./demo/images/split.png" alt="" title=""></p><h2>Contributions</h2><p>Feel free to submit pull requests, create issues or spread the word.</p><h2>License</h2><p>MIT &copy; <span class="external-link"><a href="https://twitter.com/kamranahmedse" target="_blank">Kamran Ahmed<i data-feather='external-link'></i></a></span></p>          </div>
<div class="support-author">
                 <button data-toggle="modal" data-target="#myModal" class="btn btn-pay btn-danger btn-rounded"><i class="fontello fontello-wallet" aria-hidden="true"></i>&nbsp;赞赏</button>
                 <div class="mt20 text-center article__reward-info">
                     <span class="mr10">如果觉得我的文章对你有用，请随意赞赏</span>
                 </div>
             </div>
             <div id="myModal" class="modal fade bs-example-modal-sm" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel">
                 <div class="modal-dialog modal-sm" role="document">
                     <div class="modal-content">
                         <div class="modal-header">
                             <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                             <h4 class="modal-title">赞赏作者</h4>
                         </div>
                         <div class="modal-body">
                             <p class="text-center article__reward"> <strong class="article__reward-text">扫一扫支付</strong> </p>
                             <div class="tab-content"><img noGallery aria-labelledby="alipay-tab" class="pay-img tab-pane fade in active" id="alipay_author" role="tabpanel" src="https://assets.wubin.design/zfbfk.jpg" /><img noGallery aria-labelledby="wechatpay-tab" class="pay-img tab-pane fade" id="wechatpay_author" role="tabpanel" src="https://assets.wubin.design/wxzf.jpg" /></div>
                             <div class="article__reward-border mb20 mt10"></div>

                             <div class="text-center" role="tablist"><div class="pay-button" role="presentation" class="active"><button  href="#alipay_author" id="alipay-tab" aria-controls="alipay_author" role="tab" data-toggle="tab" class="btn m-b-xs m-r-xs btn-info"><i class="iconfont icon-alipay" aria-hidden="true"></i><span>&nbsp;支付宝支付</span></button>
                                 </div><div class="pay-button" role="presentation"><button href="#wechatpay_author" id="wechatpay-tab" aria-controls="wechatpay_author" role="tab" data-toggle="tab" class="btn m-b-xs btn-success"><i class="iconfont icon-wechatpay" aria-hidden="true"></i><span>&nbsp;微信支付</span></button>
                                 </div></div>
                         </div>
                     </div>
                 </div>
             </div>
